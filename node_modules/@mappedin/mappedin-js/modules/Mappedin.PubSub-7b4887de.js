import{Color}from"three";var commonjsGlobal="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function createCommonjsModule(fn,module){return fn(module={exports:{}},module.exports),module.exports}function getCjsExportFromNamespace(n){return n&&n.default||n}var _global=createCommonjsModule((function(module){var global=module.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=global)})),_core=createCommonjsModule((function(module){var core=module.exports={version:"2.6.10"};"number"==typeof __e&&(__e=core)})),_isObject=(_core.version,function(it){return"object"==typeof it?null!==it:"function"==typeof it}),_anObject=function(it){if(!_isObject(it))throw TypeError(it+" is not an object!");return it},_fails=function(exec){try{return!!exec()}catch(e){return!0}},_descriptors=!_fails((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})),document$1=_global.document,is=_isObject(document$1)&&_isObject(document$1.createElement),_domCreate=function(it){return is?document$1.createElement(it):{}},_ie8DomDefine=!_descriptors&&!_fails((function(){return 7!=Object.defineProperty(_domCreate("div"),"a",{get:function(){return 7}}).a})),_toPrimitive=function(it,S){if(!_isObject(it))return it;var fn,val;if(S&&"function"==typeof(fn=it.toString)&&!_isObject(val=fn.call(it)))return val;if("function"==typeof(fn=it.valueOf)&&!_isObject(val=fn.call(it)))return val;if(!S&&"function"==typeof(fn=it.toString)&&!_isObject(val=fn.call(it)))return val;throw TypeError("Can't convert object to primitive value")},dP=Object.defineProperty,_objectDp={f:_descriptors?Object.defineProperty:function(O,P,Attributes){if(_anObject(O),P=_toPrimitive(P,!0),_anObject(Attributes),_ie8DomDefine)try{return dP(O,P,Attributes)}catch(e){}if("get"in Attributes||"set"in Attributes)throw TypeError("Accessors not supported!");return"value"in Attributes&&(O[P]=Attributes.value),O}},_propertyDesc=function(bitmap,value){return{enumerable:!(1&bitmap),configurable:!(2&bitmap),writable:!(4&bitmap),value:value}},_hide=_descriptors?function(object,key,value){return _objectDp.f(object,key,_propertyDesc(1,value))}:function(object,key,value){return object[key]=value,object},hasOwnProperty={}.hasOwnProperty,_has=function(it,key){return hasOwnProperty.call(it,key)},id=0,px=Math.random(),_uid=function(key){return"Symbol(".concat(void 0===key?"":key,")_",(++id+px).toString(36))},_shared=createCommonjsModule((function(module){var store=_global["__core-js_shared__"]||(_global["__core-js_shared__"]={});(module.exports=function(key,value){return store[key]||(store[key]=void 0!==value?value:{})})("versions",[]).push({version:_core.version,mode:"global",copyright:"Â© 2019 Denis Pushkarev (zloirock.ru)"})})),_functionToString=_shared("native-function-to-string",Function.toString),_redefine=createCommonjsModule((function(module){var SRC=_uid("src"),TPL=(""+_functionToString).split("toString");_core.inspectSource=function(it){return _functionToString.call(it)},(module.exports=function(O,key,val,safe){var isFunction="function"==typeof val;isFunction&&(_has(val,"name")||_hide(val,"name",key)),O[key]!==val&&(isFunction&&(_has(val,SRC)||_hide(val,SRC,O[key]?""+O[key]:TPL.join(String(key)))),O===_global?O[key]=val:safe?O[key]?O[key]=val:_hide(O,key,val):(delete O[key],_hide(O,key,val)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[SRC]||_functionToString.call(this)}))})),_aFunction=function(it){if("function"!=typeof it)throw TypeError(it+" is not a function!");return it},_ctx=function(fn,that,length){if(_aFunction(fn),void 0===that)return fn;switch(length){case 1:return function(a){return fn.call(that,a)};case 2:return function(a,b){return fn.call(that,a,b)};case 3:return function(a,b,c){return fn.call(that,a,b,c)}}return function(){return fn.apply(that,arguments)}},$export=function(type,name,source){var key,own,out,exp,IS_FORCED=type&$export.F,IS_GLOBAL=type&$export.G,IS_STATIC=type&$export.S,IS_PROTO=type&$export.P,IS_BIND=type&$export.B,target=IS_GLOBAL?_global:IS_STATIC?_global[name]||(_global[name]={}):(_global[name]||{}).prototype,exports=IS_GLOBAL?_core:_core[name]||(_core[name]={}),expProto=exports.prototype||(exports.prototype={});for(key in IS_GLOBAL&&(source=name),source)out=((own=!IS_FORCED&&target&&void 0!==target[key])?target:source)[key],exp=IS_BIND&&own?_ctx(out,_global):IS_PROTO&&"function"==typeof out?_ctx(Function.call,out):out,target&&_redefine(target,key,out,type&$export.U),exports[key]!=out&&_hide(exports,key,exp),IS_PROTO&&expProto[key]!=out&&(expProto[key]=out)};_global.core=_core,$export.F=1,$export.G=2,$export.S=4,$export.P=8,$export.B=16,$export.W=32,$export.U=64,$export.R=128;for(var Typed,_export=$export,toString={}.toString,_cof=function(it){return toString.call(it).slice(8,-1)},_iobject=Object("z").propertyIsEnumerable(0)?Object:function(it){return"String"==_cof(it)?it.split(""):Object(it)},_defined=function(it){if(null==it)throw TypeError("Can't call method on  "+it);return it},_toIobject=function(it){return _iobject(_defined(it))},ceil=Math.ceil,floor=Math.floor,_toInteger=function(it){return isNaN(it=+it)?0:(it>0?floor:ceil)(it)},min=Math.min,_toLength=function(it){return it>0?min(_toInteger(it),9007199254740991):0},max=Math.max,min$1=Math.min,_toAbsoluteIndex=function(index,length){return(index=_toInteger(index))<0?max(index+length,0):min$1(index,length)},_arrayIncludes=function(IS_INCLUDES){return function($this,el,fromIndex){var value,O=_toIobject($this),length=_toLength(O.length),index=_toAbsoluteIndex(fromIndex,length);if(IS_INCLUDES&&el!=el){for(;length>index;)if((value=O[index++])!=value)return!0}else for(;length>index;index++)if((IS_INCLUDES||index in O)&&O[index]===el)return IS_INCLUDES||index||0;return!IS_INCLUDES&&-1}},shared=_shared("keys"),_sharedKey=function(key){return shared[key]||(shared[key]=_uid(key))},arrayIndexOf=_arrayIncludes(!1),IE_PROTO=_sharedKey("IE_PROTO"),_objectKeysInternal=function(object,names){var key,O=_toIobject(object),i=0,result=[];for(key in O)key!=IE_PROTO&&_has(O,key)&&result.push(key);for(;names.length>i;)_has(O,key=names[i++])&&(~arrayIndexOf(result,key)||result.push(key));return result},_enumBugKeys="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),_objectKeys=Object.keys||function(O){return _objectKeysInternal(O,_enumBugKeys)},_objectPie={f:{}.propertyIsEnumerable},TYPED=_uid("typed_array"),VIEW=_uid("view"),ABV=!(!_global.ArrayBuffer||!_global.DataView),CONSTR=ABV,i=0,TypedArrayConstructors="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");i<9;)(Typed=_global[TypedArrayConstructors[i++]])?(_hide(Typed.prototype,TYPED,!0),_hide(Typed.prototype,VIEW,!0)):CONSTR=!1;var _typed={ABV:ABV,CONSTR:CONSTR,TYPED:TYPED,VIEW:VIEW},_redefineAll=function(target,src,safe){for(var key in src)_redefine(target,key,src[key],safe);return target},_anInstance=function(it,Constructor,name,forbiddenField){if(!(it instanceof Constructor)||void 0!==forbiddenField&&forbiddenField in it)throw TypeError(name+": incorrect invocation!");return it},_toIndex=function(it){if(void 0===it)return 0;var number=_toInteger(it),length=_toLength(number);if(number!==length)throw RangeError("Wrong length!");return length},hiddenKeys=_enumBugKeys.concat("length","prototype"),_objectGopn={f:Object.getOwnPropertyNames||function(O){return _objectKeysInternal(O,hiddenKeys)}},_toObject=function(it){return Object(_defined(it))},_arrayFill=function(value){for(var O=_toObject(this),length=_toLength(O.length),aLen=arguments.length,index=_toAbsoluteIndex(aLen>1?arguments[1]:void 0,length),end=aLen>2?arguments[2]:void 0,endPos=void 0===end?length:_toAbsoluteIndex(end,length);endPos>index;)O[index++]=value;return O},_wks=createCommonjsModule((function(module){var store=_shared("wks"),Symbol=_global.Symbol,USE_SYMBOL="function"==typeof Symbol;(module.exports=function(name){return store[name]||(store[name]=USE_SYMBOL&&Symbol[name]||(USE_SYMBOL?Symbol:_uid)("Symbol."+name))}).store=store})),def=_objectDp.f,TAG=_wks("toStringTag"),_setToStringTag=function(it,tag,stat){it&&!_has(it=stat?it:it.prototype,TAG)&&def(it,TAG,{configurable:!0,value:tag})},_typedBuffer=createCommonjsModule((function(module,exports){var gOPN=_objectGopn.f,dP=_objectDp.f,PROTOTYPE="prototype",WRONG_INDEX="Wrong index!",$ArrayBuffer=_global.ArrayBuffer,$DataView=_global.DataView,Math=_global.Math,RangeError=_global.RangeError,Infinity=_global.Infinity,BaseBuffer=$ArrayBuffer,abs=Math.abs,pow=Math.pow,floor=Math.floor,log=Math.log,LN2=Math.LN2,$BUFFER=_descriptors?"_b":"buffer",$LENGTH=_descriptors?"_l":"byteLength",$OFFSET=_descriptors?"_o":"byteOffset";function packIEEE754(value,mLen,nBytes){var e,m,c,buffer=new Array(nBytes),eLen=8*nBytes-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,rt=23===mLen?pow(2,-24)-pow(2,-77):0,i=0,s=value<0||0===value&&1/value<0?1:0;for((value=abs(value))!=value||value===Infinity?(m=value!=value?1:0,e=eMax):(e=floor(log(value)/LN2),value*(c=pow(2,-e))<1&&(e--,c*=2),(value+=e+eBias>=1?rt/c:rt*pow(2,1-eBias))*c>=2&&(e++,c/=2),e+eBias>=eMax?(m=0,e=eMax):e+eBias>=1?(m=(value*c-1)*pow(2,mLen),e+=eBias):(m=value*pow(2,eBias-1)*pow(2,mLen),e=0));mLen>=8;buffer[i++]=255&m,m/=256,mLen-=8);for(e=e<<mLen|m,eLen+=mLen;eLen>0;buffer[i++]=255&e,e/=256,eLen-=8);return buffer[--i]|=128*s,buffer}function unpackIEEE754(buffer,mLen,nBytes){var m,eLen=8*nBytes-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,nBits=eLen-7,i=nBytes-1,s=buffer[i--],e=127&s;for(s>>=7;nBits>0;e=256*e+buffer[i],i--,nBits-=8);for(m=e&(1<<-nBits)-1,e>>=-nBits,nBits+=mLen;nBits>0;m=256*m+buffer[i],i--,nBits-=8);if(0===e)e=1-eBias;else{if(e===eMax)return m?NaN:s?-Infinity:Infinity;m+=pow(2,mLen),e-=eBias}return(s?-1:1)*m*pow(2,e-mLen)}function unpackI32(bytes){return bytes[3]<<24|bytes[2]<<16|bytes[1]<<8|bytes[0]}function packI8(it){return[255&it]}function packI16(it){return[255&it,it>>8&255]}function packI32(it){return[255&it,it>>8&255,it>>16&255,it>>24&255]}function packF64(it){return packIEEE754(it,52,8)}function packF32(it){return packIEEE754(it,23,4)}function addGetter(C,key,internal){dP(C[PROTOTYPE],key,{get:function(){return this[internal]}})}function get(view,bytes,index,isLittleEndian){var intIndex=_toIndex(+index);if(intIndex+bytes>view[$LENGTH])throw RangeError(WRONG_INDEX);var store=view[$BUFFER]._b,start=intIndex+view[$OFFSET],pack=store.slice(start,start+bytes);return isLittleEndian?pack:pack.reverse()}function set(view,bytes,index,conversion,value,isLittleEndian){var intIndex=_toIndex(+index);if(intIndex+bytes>view[$LENGTH])throw RangeError(WRONG_INDEX);for(var store=view[$BUFFER]._b,start=intIndex+view[$OFFSET],pack=conversion(+value),i=0;i<bytes;i++)store[start+i]=pack[isLittleEndian?i:bytes-i-1]}if(_typed.ABV){if(!_fails((function(){$ArrayBuffer(1)}))||!_fails((function(){new $ArrayBuffer(-1)}))||_fails((function(){return new $ArrayBuffer,new $ArrayBuffer(1.5),new $ArrayBuffer(NaN),"ArrayBuffer"!=$ArrayBuffer.name}))){for(var key,ArrayBufferProto=($ArrayBuffer=function(length){return _anInstance(this,$ArrayBuffer),new BaseBuffer(_toIndex(length))})[PROTOTYPE]=BaseBuffer[PROTOTYPE],keys=gOPN(BaseBuffer),j=0;keys.length>j;)(key=keys[j++])in $ArrayBuffer||_hide($ArrayBuffer,key,BaseBuffer[key]);ArrayBufferProto.constructor=$ArrayBuffer}var view=new $DataView(new $ArrayBuffer(2)),$setInt8=$DataView[PROTOTYPE].setInt8;view.setInt8(0,2147483648),view.setInt8(1,2147483649),!view.getInt8(0)&&view.getInt8(1)||_redefineAll($DataView[PROTOTYPE],{setInt8:function(byteOffset,value){$setInt8.call(this,byteOffset,value<<24>>24)},setUint8:function(byteOffset,value){$setInt8.call(this,byteOffset,value<<24>>24)}},!0)}else $ArrayBuffer=function(length){_anInstance(this,$ArrayBuffer,"ArrayBuffer");var byteLength=_toIndex(length);this._b=_arrayFill.call(new Array(byteLength),0),this[$LENGTH]=byteLength},$DataView=function(buffer,byteOffset,byteLength){_anInstance(this,$DataView,"DataView"),_anInstance(buffer,$ArrayBuffer,"DataView");var bufferLength=buffer[$LENGTH],offset=_toInteger(byteOffset);if(offset<0||offset>bufferLength)throw RangeError("Wrong offset!");if(offset+(byteLength=void 0===byteLength?bufferLength-offset:_toLength(byteLength))>bufferLength)throw RangeError("Wrong length!");this[$BUFFER]=buffer,this[$OFFSET]=offset,this[$LENGTH]=byteLength},_descriptors&&(addGetter($ArrayBuffer,"byteLength","_l"),addGetter($DataView,"buffer","_b"),addGetter($DataView,"byteLength","_l"),addGetter($DataView,"byteOffset","_o")),_redefineAll($DataView[PROTOTYPE],{getInt8:function(byteOffset){return get(this,1,byteOffset)[0]<<24>>24},getUint8:function(byteOffset){return get(this,1,byteOffset)[0]},getInt16:function(byteOffset){var bytes=get(this,2,byteOffset,arguments[1]);return(bytes[1]<<8|bytes[0])<<16>>16},getUint16:function(byteOffset){var bytes=get(this,2,byteOffset,arguments[1]);return bytes[1]<<8|bytes[0]},getInt32:function(byteOffset){return unpackI32(get(this,4,byteOffset,arguments[1]))},getUint32:function(byteOffset){return unpackI32(get(this,4,byteOffset,arguments[1]))>>>0},getFloat32:function(byteOffset){return unpackIEEE754(get(this,4,byteOffset,arguments[1]),23,4)},getFloat64:function(byteOffset){return unpackIEEE754(get(this,8,byteOffset,arguments[1]),52,8)},setInt8:function(byteOffset,value){set(this,1,byteOffset,packI8,value)},setUint8:function(byteOffset,value){set(this,1,byteOffset,packI8,value)},setInt16:function(byteOffset,value){set(this,2,byteOffset,packI16,value,arguments[2])},setUint16:function(byteOffset,value){set(this,2,byteOffset,packI16,value,arguments[2])},setInt32:function(byteOffset,value){set(this,4,byteOffset,packI32,value,arguments[2])},setUint32:function(byteOffset,value){set(this,4,byteOffset,packI32,value,arguments[2])},setFloat32:function(byteOffset,value){set(this,4,byteOffset,packF32,value,arguments[2])},setFloat64:function(byteOffset,value){set(this,8,byteOffset,packF64,value,arguments[2])}});_setToStringTag($ArrayBuffer,"ArrayBuffer"),_setToStringTag($DataView,"DataView"),_hide($DataView[PROTOTYPE],_typed.VIEW,!0),exports.ArrayBuffer=$ArrayBuffer,exports.DataView=$DataView})),TAG$1=_wks("toStringTag"),ARG="Arguments"==_cof(function(){return arguments}()),_classof=function(it){var O,T,B;return void 0===it?"Undefined":null===it?"Null":"string"==typeof(T=function(it,key){try{return it[key]}catch(e){}}(O=Object(it),TAG$1))?T:ARG?_cof(O):"Object"==(B=_cof(O))&&"function"==typeof O.callee?"Arguments":B},_iterators={},ITERATOR=_wks("iterator"),ArrayProto=Array.prototype,_isArrayIter=function(it){return void 0!==it&&(_iterators.Array===it||ArrayProto[ITERATOR]===it)},_objectDps=_descriptors?Object.defineProperties:function(O,Properties){_anObject(O);for(var P,keys=_objectKeys(Properties),length=keys.length,i=0;length>i;)_objectDp.f(O,P=keys[i++],Properties[P]);return O},document$2=_global.document,_html=document$2&&document$2.documentElement,IE_PROTO$1=_sharedKey("IE_PROTO"),Empty=function(){},createDict=function(){var iframeDocument,iframe=_domCreate("iframe"),i=_enumBugKeys.length;for(iframe.style.display="none",_html.appendChild(iframe),iframe.src="javascript:",(iframeDocument=iframe.contentWindow.document).open(),iframeDocument.write("<script>document.F=Object<\/script>"),iframeDocument.close(),createDict=iframeDocument.F;i--;)delete createDict.prototype[_enumBugKeys[i]];return createDict()},_objectCreate=Object.create||function(O,Properties){var result;return null!==O?(Empty.prototype=_anObject(O),result=new Empty,Empty.prototype=null,result[IE_PROTO$1]=O):result=createDict(),void 0===Properties?result:_objectDps(result,Properties)},IE_PROTO$2=_sharedKey("IE_PROTO"),ObjectProto=Object.prototype,_objectGpo=Object.getPrototypeOf||function(O){return O=_toObject(O),_has(O,IE_PROTO$2)?O[IE_PROTO$2]:"function"==typeof O.constructor&&O instanceof O.constructor?O.constructor.prototype:O instanceof Object?ObjectProto:null},ITERATOR$1=_wks("iterator"),core_getIteratorMethod=_core.getIteratorMethod=function(it){if(null!=it)return it[ITERATOR$1]||it["@@iterator"]||_iterators[_classof(it)]},_isArray=Array.isArray||function(arg){return"Array"==_cof(arg)},SPECIES=_wks("species"),_arraySpeciesCreate=function(original,length){return new(function(original){var C;return _isArray(original)&&("function"!=typeof(C=original.constructor)||C!==Array&&!_isArray(C.prototype)||(C=void 0),_isObject(C)&&null===(C=C[SPECIES])&&(C=void 0)),void 0===C?Array:C}(original))(length)},_arrayMethods=function(TYPE,$create){var IS_MAP=1==TYPE,IS_FILTER=2==TYPE,IS_SOME=3==TYPE,IS_EVERY=4==TYPE,IS_FIND_INDEX=6==TYPE,NO_HOLES=5==TYPE||IS_FIND_INDEX,create=$create||_arraySpeciesCreate;return function($this,callbackfn,that){for(var val,res,O=_toObject($this),self=_iobject(O),f=_ctx(callbackfn,that,3),length=_toLength(self.length),index=0,result=IS_MAP?create($this,length):IS_FILTER?create($this,0):void 0;length>index;index++)if((NO_HOLES||index in self)&&(res=f(val=self[index],index,O),TYPE))if(IS_MAP)result[index]=res;else if(res)switch(TYPE){case 3:return!0;case 5:return val;case 6:return index;case 2:result.push(val)}else if(IS_EVERY)return!1;return IS_FIND_INDEX?-1:IS_SOME||IS_EVERY?IS_EVERY:result}},SPECIES$1=_wks("species"),_speciesConstructor=function(O,D){var S,C=_anObject(O).constructor;return void 0===C||null==(S=_anObject(C)[SPECIES$1])?D:_aFunction(S)},UNSCOPABLES=_wks("unscopables"),ArrayProto$1=Array.prototype;null==ArrayProto$1[UNSCOPABLES]&&_hide(ArrayProto$1,UNSCOPABLES,{});var _addToUnscopables=function(key){ArrayProto$1[UNSCOPABLES][key]=!0},_iterStep=function(done,value){return{value:value,done:!!done}},IteratorPrototype={};_hide(IteratorPrototype,_wks("iterator"),(function(){return this}));var _iterCreate=function(Constructor,NAME,next){Constructor.prototype=_objectCreate(IteratorPrototype,{next:_propertyDesc(1,next)}),_setToStringTag(Constructor,NAME+" Iterator")},ITERATOR$2=_wks("iterator"),BUGGY=!([].keys&&"next"in[].keys()),returnThis=function(){return this},_iterDefine=function(Base,NAME,Constructor,next,DEFAULT,IS_SET,FORCED){_iterCreate(Constructor,NAME,next);var methods,key,IteratorPrototype,getMethod=function(kind){if(!BUGGY&&kind in proto)return proto[kind];switch(kind){case"keys":case"values":return function(){return new Constructor(this,kind)}}return function(){return new Constructor(this,kind)}},TAG=NAME+" Iterator",DEF_VALUES="values"==DEFAULT,VALUES_BUG=!1,proto=Base.prototype,$native=proto[ITERATOR$2]||proto["@@iterator"]||DEFAULT&&proto[DEFAULT],$default=$native||getMethod(DEFAULT),$entries=DEFAULT?DEF_VALUES?getMethod("entries"):$default:void 0,$anyNative="Array"==NAME&&proto.entries||$native;if($anyNative&&(IteratorPrototype=_objectGpo($anyNative.call(new Base)))!==Object.prototype&&IteratorPrototype.next&&(_setToStringTag(IteratorPrototype,TAG,!0),"function"!=typeof IteratorPrototype[ITERATOR$2]&&_hide(IteratorPrototype,ITERATOR$2,returnThis)),DEF_VALUES&&$native&&"values"!==$native.name&&(VALUES_BUG=!0,$default=function(){return $native.call(this)}),(BUGGY||VALUES_BUG||!proto[ITERATOR$2])&&_hide(proto,ITERATOR$2,$default),_iterators[NAME]=$default,_iterators[TAG]=returnThis,DEFAULT)if(methods={values:DEF_VALUES?$default:getMethod("values"),keys:IS_SET?$default:getMethod("keys"),entries:$entries},FORCED)for(key in methods)key in proto||_redefine(proto,key,methods[key]);else _export(_export.P+_export.F*(BUGGY||VALUES_BUG),NAME,methods);return methods},es6_array_iterator=_iterDefine(Array,"Array",(function(iterated,kind){this._t=_toIobject(iterated),this._i=0,this._k=kind}),(function(){var O=this._t,kind=this._k,index=this._i++;return!O||index>=O.length?(this._t=void 0,_iterStep(1)):_iterStep(0,"keys"==kind?index:"values"==kind?O[index]:[index,O[index]])}),"values");_iterators.Arguments=_iterators.Array,_addToUnscopables("keys"),_addToUnscopables("values"),_addToUnscopables("entries");var ITERATOR$3=_wks("iterator"),SAFE_CLOSING=!1;try{var riter=[7][ITERATOR$3]();riter.return=function(){SAFE_CLOSING=!0},Array.from(riter,(function(){throw 2}))}catch(e){}var _iterDetect=function(exec,skipClosing){if(!skipClosing&&!SAFE_CLOSING)return!1;var safe=!1;try{var arr=[7],iter=arr[ITERATOR$3]();iter.next=function(){return{done:safe=!0}},arr[ITERATOR$3]=function(){return iter},exec(arr)}catch(e){}return safe},SPECIES$2=_wks("species"),_setSpecies=function(KEY){var C=_global[KEY];_descriptors&&C&&!C[SPECIES$2]&&_objectDp.f(C,SPECIES$2,{configurable:!0,get:function(){return this}})},_arrayCopyWithin=[].copyWithin||function(target,start){var O=_toObject(this),len=_toLength(O.length),to=_toAbsoluteIndex(target,len),from=_toAbsoluteIndex(start,len),end=arguments.length>2?arguments[2]:void 0,count=Math.min((void 0===end?len:_toAbsoluteIndex(end,len))-from,len-to),inc=1;for(from<to&&to<from+count&&(inc=-1,from+=count-1,to+=count-1);count-- >0;)from in O?O[to]=O[from]:delete O[to],to+=inc,from+=inc;return O},gOPD=Object.getOwnPropertyDescriptor,_objectGopd={f:_descriptors?gOPD:function(O,P){if(O=_toIobject(O),P=_toPrimitive(P,!0),_ie8DomDefine)try{return gOPD(O,P)}catch(e){}if(_has(O,P))return _propertyDesc(!_objectPie.f.call(O,P),O[P])}};createCommonjsModule((function(module){if(_descriptors){var global=_global,fails=_fails,$export=_export,$typed=_typed,$buffer=_typedBuffer,ctx=_ctx,anInstance=_anInstance,propertyDesc=_propertyDesc,hide=_hide,redefineAll=_redefineAll,toInteger=_toInteger,toLength=_toLength,toIndex=_toIndex,toAbsoluteIndex=_toAbsoluteIndex,toPrimitive=_toPrimitive,has=_has,classof=_classof,isObject=_isObject,toObject=_toObject,isArrayIter=_isArrayIter,create=_objectCreate,getPrototypeOf=_objectGpo,gOPN=_objectGopn.f,getIterFn=core_getIteratorMethod,uid=_uid,wks=_wks,createArrayMethod=_arrayMethods,createArrayIncludes=_arrayIncludes,speciesConstructor=_speciesConstructor,ArrayIterators=es6_array_iterator,Iterators=_iterators,$iterDetect=_iterDetect,setSpecies=_setSpecies,arrayFill=_arrayFill,arrayCopyWithin=_arrayCopyWithin,$DP=_objectDp,$GOPD=_objectGopd,dP=$DP.f,gOPD=$GOPD.f,RangeError=global.RangeError,TypeError=global.TypeError,Uint8Array=global.Uint8Array,ArrayProto=Array.prototype,$ArrayBuffer=$buffer.ArrayBuffer,$DataView=$buffer.DataView,arrayForEach=createArrayMethod(0),arrayFilter=createArrayMethod(2),arraySome=createArrayMethod(3),arrayEvery=createArrayMethod(4),arrayFind=createArrayMethod(5),arrayFindIndex=createArrayMethod(6),arrayIncludes=createArrayIncludes(!0),arrayIndexOf=createArrayIncludes(!1),arrayValues=ArrayIterators.values,arrayKeys=ArrayIterators.keys,arrayEntries=ArrayIterators.entries,arrayLastIndexOf=ArrayProto.lastIndexOf,arrayReduce=ArrayProto.reduce,arrayReduceRight=ArrayProto.reduceRight,arrayJoin=ArrayProto.join,arraySort=ArrayProto.sort,arraySlice=ArrayProto.slice,arrayToString=ArrayProto.toString,arrayToLocaleString=ArrayProto.toLocaleString,ITERATOR=wks("iterator"),TAG=wks("toStringTag"),TYPED_CONSTRUCTOR=uid("typed_constructor"),DEF_CONSTRUCTOR=uid("def_constructor"),ALL_CONSTRUCTORS=$typed.CONSTR,TYPED_ARRAY=$typed.TYPED,VIEW=$typed.VIEW,$map=createArrayMethod(1,(function(O,length){return allocate(speciesConstructor(O,O[DEF_CONSTRUCTOR]),length)})),LITTLE_ENDIAN=fails((function(){return 1===new Uint8Array(new Uint16Array([1]).buffer)[0]})),FORCED_SET=!!Uint8Array&&!!Uint8Array.prototype.set&&fails((function(){new Uint8Array(1).set({})})),toOffset=function(it,BYTES){var offset=toInteger(it);if(offset<0||offset%BYTES)throw RangeError("Wrong offset!");return offset},validate=function(it){if(isObject(it)&&TYPED_ARRAY in it)return it;throw TypeError(it+" is not a typed array!")},allocate=function(C,length){if(!(isObject(C)&&TYPED_CONSTRUCTOR in C))throw TypeError("It is not a typed array constructor!");return new C(length)},speciesFromList=function(O,list){return fromList(speciesConstructor(O,O[DEF_CONSTRUCTOR]),list)},fromList=function(C,list){for(var index=0,length=list.length,result=allocate(C,length);length>index;)result[index]=list[index++];return result},addGetter=function(it,key,internal){dP(it,key,{get:function(){return this._d[internal]}})},$from=function(source){var i,length,values,result,step,iterator,O=toObject(source),aLen=arguments.length,mapfn=aLen>1?arguments[1]:void 0,mapping=void 0!==mapfn,iterFn=getIterFn(O);if(null!=iterFn&&!isArrayIter(iterFn)){for(iterator=iterFn.call(O),values=[],i=0;!(step=iterator.next()).done;i++)values.push(step.value);O=values}for(mapping&&aLen>2&&(mapfn=ctx(mapfn,arguments[2],2)),i=0,length=toLength(O.length),result=allocate(this,length);length>i;i++)result[i]=mapping?mapfn(O[i],i):O[i];return result},$of=function(){for(var index=0,length=arguments.length,result=allocate(this,length);length>index;)result[index]=arguments[index++];return result},TO_LOCALE_BUG=!!Uint8Array&&fails((function(){arrayToLocaleString.call(new Uint8Array(1))})),$toLocaleString=function(){return arrayToLocaleString.apply(TO_LOCALE_BUG?arraySlice.call(validate(this)):validate(this),arguments)},proto={copyWithin:function(target,start){return arrayCopyWithin.call(validate(this),target,start,arguments.length>2?arguments[2]:void 0)},every:function(callbackfn){return arrayEvery(validate(this),callbackfn,arguments.length>1?arguments[1]:void 0)},fill:function(value){return arrayFill.apply(validate(this),arguments)},filter:function(callbackfn){return speciesFromList(this,arrayFilter(validate(this),callbackfn,arguments.length>1?arguments[1]:void 0))},find:function(predicate){return arrayFind(validate(this),predicate,arguments.length>1?arguments[1]:void 0)},findIndex:function(predicate){return arrayFindIndex(validate(this),predicate,arguments.length>1?arguments[1]:void 0)},forEach:function(callbackfn){arrayForEach(validate(this),callbackfn,arguments.length>1?arguments[1]:void 0)},indexOf:function(searchElement){return arrayIndexOf(validate(this),searchElement,arguments.length>1?arguments[1]:void 0)},includes:function(searchElement){return arrayIncludes(validate(this),searchElement,arguments.length>1?arguments[1]:void 0)},join:function(separator){return arrayJoin.apply(validate(this),arguments)},lastIndexOf:function(searchElement){return arrayLastIndexOf.apply(validate(this),arguments)},map:function(mapfn){return $map(validate(this),mapfn,arguments.length>1?arguments[1]:void 0)},reduce:function(callbackfn){return arrayReduce.apply(validate(this),arguments)},reduceRight:function(callbackfn){return arrayReduceRight.apply(validate(this),arguments)},reverse:function(){for(var value,length=validate(this).length,middle=Math.floor(length/2),index=0;index<middle;)value=this[index],this[index++]=this[--length],this[length]=value;return this},some:function(callbackfn){return arraySome(validate(this),callbackfn,arguments.length>1?arguments[1]:void 0)},sort:function(comparefn){return arraySort.call(validate(this),comparefn)},subarray:function(begin,end){var O=validate(this),length=O.length,$begin=toAbsoluteIndex(begin,length);return new(speciesConstructor(O,O[DEF_CONSTRUCTOR]))(O.buffer,O.byteOffset+$begin*O.BYTES_PER_ELEMENT,toLength((void 0===end?length:toAbsoluteIndex(end,length))-$begin))}},$slice=function(start,end){return speciesFromList(this,arraySlice.call(validate(this),start,end))},$set=function(arrayLike){validate(this);var offset=toOffset(arguments[1],1),length=this.length,src=toObject(arrayLike),len=toLength(src.length),index=0;if(len+offset>length)throw RangeError("Wrong length!");for(;index<len;)this[offset+index]=src[index++]},$iterators={entries:function(){return arrayEntries.call(validate(this))},keys:function(){return arrayKeys.call(validate(this))},values:function(){return arrayValues.call(validate(this))}},isTAIndex=function(target,key){return isObject(target)&&target[TYPED_ARRAY]&&"symbol"!=typeof key&&key in target&&String(+key)==String(key)},$getDesc=function(target,key){return isTAIndex(target,key=toPrimitive(key,!0))?propertyDesc(2,target[key]):gOPD(target,key)},$setDesc=function(target,key,desc){return!(isTAIndex(target,key=toPrimitive(key,!0))&&isObject(desc)&&has(desc,"value"))||has(desc,"get")||has(desc,"set")||desc.configurable||has(desc,"writable")&&!desc.writable||has(desc,"enumerable")&&!desc.enumerable?dP(target,key,desc):(target[key]=desc.value,target)};ALL_CONSTRUCTORS||($GOPD.f=$getDesc,$DP.f=$setDesc),$export($export.S+$export.F*!ALL_CONSTRUCTORS,"Object",{getOwnPropertyDescriptor:$getDesc,defineProperty:$setDesc}),fails((function(){arrayToString.call({})}))&&(arrayToString=arrayToLocaleString=function(){return arrayJoin.call(this)});var $TypedArrayPrototype$=redefineAll({},proto);redefineAll($TypedArrayPrototype$,$iterators),hide($TypedArrayPrototype$,ITERATOR,$iterators.values),redefineAll($TypedArrayPrototype$,{slice:$slice,set:$set,constructor:function(){},toString:arrayToString,toLocaleString:$toLocaleString}),addGetter($TypedArrayPrototype$,"buffer","b"),addGetter($TypedArrayPrototype$,"byteOffset","o"),addGetter($TypedArrayPrototype$,"byteLength","l"),addGetter($TypedArrayPrototype$,"length","e"),dP($TypedArrayPrototype$,TAG,{get:function(){return this[TYPED_ARRAY]}}),module.exports=function(KEY,BYTES,wrapper,CLAMPED){var NAME=KEY+((CLAMPED=!!CLAMPED)?"Clamped":"")+"Array",GETTER="get"+KEY,SETTER="set"+KEY,TypedArray=global[NAME],Base=TypedArray||{},TAC=TypedArray&&getPrototypeOf(TypedArray),FORCED=!TypedArray||!$typed.ABV,O={},TypedArrayPrototype=TypedArray&&TypedArray.prototype,addElement=function(that,index){dP(that,index,{get:function(){return function(that,index){var data=that._d;return data.v[GETTER](index*BYTES+data.o,LITTLE_ENDIAN)}(this,index)},set:function(value){return function(that,index,value){var data=that._d;CLAMPED&&(value=(value=Math.round(value))<0?0:value>255?255:255&value),data.v[SETTER](index*BYTES+data.o,value,LITTLE_ENDIAN)}(this,index,value)},enumerable:!0})};FORCED?(TypedArray=wrapper((function(that,data,$offset,$length){anInstance(that,TypedArray,NAME,"_d");var buffer,byteLength,length,klass,index=0,offset=0;if(isObject(data)){if(!(data instanceof $ArrayBuffer||"ArrayBuffer"==(klass=classof(data))||"SharedArrayBuffer"==klass))return TYPED_ARRAY in data?fromList(TypedArray,data):$from.call(TypedArray,data);buffer=data,offset=toOffset($offset,BYTES);var $len=data.byteLength;if(void 0===$length){if($len%BYTES)throw RangeError("Wrong length!");if((byteLength=$len-offset)<0)throw RangeError("Wrong length!")}else if((byteLength=toLength($length)*BYTES)+offset>$len)throw RangeError("Wrong length!");length=byteLength/BYTES}else length=toIndex(data),buffer=new $ArrayBuffer(byteLength=length*BYTES);for(hide(that,"_d",{b:buffer,o:offset,l:byteLength,e:length,v:new $DataView(buffer)});index<length;)addElement(that,index++)})),TypedArrayPrototype=TypedArray.prototype=create($TypedArrayPrototype$),hide(TypedArrayPrototype,"constructor",TypedArray)):fails((function(){TypedArray(1)}))&&fails((function(){new TypedArray(-1)}))&&$iterDetect((function(iter){new TypedArray,new TypedArray(null),new TypedArray(1.5),new TypedArray(iter)}),!0)||(TypedArray=wrapper((function(that,data,$offset,$length){var klass;return anInstance(that,TypedArray,NAME),isObject(data)?data instanceof $ArrayBuffer||"ArrayBuffer"==(klass=classof(data))||"SharedArrayBuffer"==klass?void 0!==$length?new Base(data,toOffset($offset,BYTES),$length):void 0!==$offset?new Base(data,toOffset($offset,BYTES)):new Base(data):TYPED_ARRAY in data?fromList(TypedArray,data):$from.call(TypedArray,data):new Base(toIndex(data))})),arrayForEach(TAC!==Function.prototype?gOPN(Base).concat(gOPN(TAC)):gOPN(Base),(function(key){key in TypedArray||hide(TypedArray,key,Base[key])})),TypedArray.prototype=TypedArrayPrototype,TypedArrayPrototype.constructor=TypedArray);var $nativeIterator=TypedArrayPrototype[ITERATOR],CORRECT_ITER_NAME=!!$nativeIterator&&("values"==$nativeIterator.name||null==$nativeIterator.name),$iterator=$iterators.values;hide(TypedArray,TYPED_CONSTRUCTOR,!0),hide(TypedArrayPrototype,TYPED_ARRAY,NAME),hide(TypedArrayPrototype,VIEW,!0),hide(TypedArrayPrototype,DEF_CONSTRUCTOR,TypedArray),(CLAMPED?new TypedArray(1)[TAG]==NAME:TAG in TypedArrayPrototype)||dP(TypedArrayPrototype,TAG,{get:function(){return NAME}}),O[NAME]=TypedArray,$export($export.G+$export.W+$export.F*(TypedArray!=Base),O),$export($export.S,NAME,{BYTES_PER_ELEMENT:BYTES}),$export($export.S+$export.F*fails((function(){Base.of.call(TypedArray,1)})),NAME,{from:$from,of:$of}),"BYTES_PER_ELEMENT"in TypedArrayPrototype||hide(TypedArrayPrototype,"BYTES_PER_ELEMENT",BYTES),$export($export.P,NAME,proto),setSpecies(NAME),$export($export.P+$export.F*FORCED_SET,NAME,{set:$set}),$export($export.P+$export.F*!CORRECT_ITER_NAME,NAME,$iterators),TypedArrayPrototype.toString!=arrayToString&&(TypedArrayPrototype.toString=arrayToString),$export($export.P+$export.F*fails((function(){new TypedArray(1).slice()})),NAME,{slice:$slice}),$export($export.P+$export.F*(fails((function(){return[1,2].toLocaleString()!=new TypedArray([1,2]).toLocaleString()}))||!fails((function(){TypedArrayPrototype.toLocaleString.call([1,2])}))),NAME,{toLocaleString:$toLocaleString}),Iterators[NAME]=CORRECT_ITER_NAME?$nativeIterator:$iterator,CORRECT_ITER_NAME||hide(TypedArrayPrototype,ITERATOR,$iterator)}}else module.exports=function(){}}))("Float32",4,(function(init){return function(data,byteOffset,length){return init(this,data,byteOffset,length)}}));var method,arg,$sort=[].sort,test=[1,2,3];function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread2(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(source,!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _possibleConstructorReturn(self,call){return!call||"object"!=typeof call&&"function"!=typeof call?_assertThisInitialized(self):call}function _get(target,property,receiver){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(target,property,receiver){var base=function(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=_getPrototypeOf(object)););return object}(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(receiver):desc.value}})(target,property,receiver||target)}function _slicedToArray(arr,i){return function(arr){if(Array.isArray(arr))return arr}(arr)||function(arr,i){if(!(Symbol.iterator in Object(arr)||"[object Arguments]"===Object.prototype.toString.call(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function _toConsumableArray(arr){return function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}_export(_export.P+_export.F*(_fails((function(){test.sort(void 0)}))||!_fails((function(){test.sort(null)}))||!((method=$sort)&&_fails((function(){arg?method.call(null,(function(){}),1):method.call(null)})))),"Array",{sort:function(comparefn){return void 0===comparefn?$sort.call(_toObject(this)):$sort.call(_toObject(this),_aFunction(comparefn))}});var _wksExt={f:_wks},defineProperty=_objectDp.f,_wksDefine=function(name){var $Symbol=_core.Symbol||(_core.Symbol=_global.Symbol||{});"_"==name.charAt(0)||name in $Symbol||defineProperty($Symbol,name,{value:_wksExt.f(name)})};_wksDefine("asyncIterator");var _meta=createCommonjsModule((function(module){var META=_uid("meta"),setDesc=_objectDp.f,id=0,isExtensible=Object.isExtensible||function(){return!0},FREEZE=!_fails((function(){return isExtensible(Object.preventExtensions({}))})),setMeta=function(it){setDesc(it,META,{value:{i:"O"+ ++id,w:{}}})},meta=module.exports={KEY:META,NEED:!1,fastKey:function(it,create){if(!_isObject(it))return"symbol"==typeof it?it:("string"==typeof it?"S":"P")+it;if(!_has(it,META)){if(!isExtensible(it))return"F";if(!create)return"E";setMeta(it)}return it[META].i},getWeak:function(it,create){if(!_has(it,META)){if(!isExtensible(it))return!0;if(!create)return!1;setMeta(it)}return it[META].w},onFreeze:function(it){return FREEZE&&meta.NEED&&isExtensible(it)&&!_has(it,META)&&setMeta(it),it}}})),_objectGops=(_meta.KEY,_meta.NEED,_meta.fastKey,_meta.getWeak,_meta.onFreeze,{f:Object.getOwnPropertySymbols}),gOPN=_objectGopn.f,toString$1={}.toString,windowNames="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],_objectGopnExt={f:function(it){return windowNames&&"[object Window]"==toString$1.call(it)?function(it){try{return gOPN(it)}catch(e){return windowNames.slice()}}(it):gOPN(_toIobject(it))}},META=_meta.KEY,gOPD$1=_objectGopd.f,dP$1=_objectDp.f,gOPN$1=_objectGopnExt.f,$Symbol=_global.Symbol,$JSON=_global.JSON,_stringify=$JSON&&$JSON.stringify,HIDDEN=_wks("_hidden"),TO_PRIMITIVE=_wks("toPrimitive"),isEnum={}.propertyIsEnumerable,SymbolRegistry=_shared("symbol-registry"),AllSymbols=_shared("symbols"),OPSymbols=_shared("op-symbols"),ObjectProto$1=Object.prototype,USE_NATIVE="function"==typeof $Symbol&&!!_objectGops.f,QObject=_global.QObject,setter=!QObject||!QObject.prototype||!QObject.prototype.findChild,setSymbolDesc=_descriptors&&_fails((function(){return 7!=_objectCreate(dP$1({},"a",{get:function(){return dP$1(this,"a",{value:7}).a}})).a}))?function(it,key,D){var protoDesc=gOPD$1(ObjectProto$1,key);protoDesc&&delete ObjectProto$1[key],dP$1(it,key,D),protoDesc&&it!==ObjectProto$1&&dP$1(ObjectProto$1,key,protoDesc)}:dP$1,wrap=function(tag){var sym=AllSymbols[tag]=_objectCreate($Symbol.prototype);return sym._k=tag,sym},isSymbol=USE_NATIVE&&"symbol"==typeof $Symbol.iterator?function(it){return"symbol"==typeof it}:function(it){return it instanceof $Symbol},$defineProperty=function(it,key,D){return it===ObjectProto$1&&$defineProperty(OPSymbols,key,D),_anObject(it),key=_toPrimitive(key,!0),_anObject(D),_has(AllSymbols,key)?(D.enumerable?(_has(it,HIDDEN)&&it[HIDDEN][key]&&(it[HIDDEN][key]=!1),D=_objectCreate(D,{enumerable:_propertyDesc(0,!1)})):(_has(it,HIDDEN)||dP$1(it,HIDDEN,_propertyDesc(1,{})),it[HIDDEN][key]=!0),setSymbolDesc(it,key,D)):dP$1(it,key,D)},$defineProperties=function(it,P){_anObject(it);for(var key,keys=function(it){var result=_objectKeys(it),getSymbols=_objectGops.f;if(getSymbols)for(var key,symbols=getSymbols(it),isEnum=_objectPie.f,i=0;symbols.length>i;)isEnum.call(it,key=symbols[i++])&&result.push(key);return result}(P=_toIobject(P)),i=0,l=keys.length;l>i;)$defineProperty(it,key=keys[i++],P[key]);return it},$propertyIsEnumerable=function(key){var E=isEnum.call(this,key=_toPrimitive(key,!0));return!(this===ObjectProto$1&&_has(AllSymbols,key)&&!_has(OPSymbols,key))&&(!(E||!_has(this,key)||!_has(AllSymbols,key)||_has(this,HIDDEN)&&this[HIDDEN][key])||E)},$getOwnPropertyDescriptor=function(it,key){if(it=_toIobject(it),key=_toPrimitive(key,!0),it!==ObjectProto$1||!_has(AllSymbols,key)||_has(OPSymbols,key)){var D=gOPD$1(it,key);return!D||!_has(AllSymbols,key)||_has(it,HIDDEN)&&it[HIDDEN][key]||(D.enumerable=!0),D}},$getOwnPropertyNames=function(it){for(var key,names=gOPN$1(_toIobject(it)),result=[],i=0;names.length>i;)_has(AllSymbols,key=names[i++])||key==HIDDEN||key==META||result.push(key);return result},$getOwnPropertySymbols=function(it){for(var key,IS_OP=it===ObjectProto$1,names=gOPN$1(IS_OP?OPSymbols:_toIobject(it)),result=[],i=0;names.length>i;)!_has(AllSymbols,key=names[i++])||IS_OP&&!_has(ObjectProto$1,key)||result.push(AllSymbols[key]);return result};USE_NATIVE||(_redefine(($Symbol=function(){if(this instanceof $Symbol)throw TypeError("Symbol is not a constructor!");var tag=_uid(arguments.length>0?arguments[0]:void 0),$set=function(value){this===ObjectProto$1&&$set.call(OPSymbols,value),_has(this,HIDDEN)&&_has(this[HIDDEN],tag)&&(this[HIDDEN][tag]=!1),setSymbolDesc(this,tag,_propertyDesc(1,value))};return _descriptors&&setter&&setSymbolDesc(ObjectProto$1,tag,{configurable:!0,set:$set}),wrap(tag)}).prototype,"toString",(function(){return this._k})),_objectGopd.f=$getOwnPropertyDescriptor,_objectDp.f=$defineProperty,_objectGopn.f=_objectGopnExt.f=$getOwnPropertyNames,_objectPie.f=$propertyIsEnumerable,_objectGops.f=$getOwnPropertySymbols,_descriptors&&_redefine(ObjectProto$1,"propertyIsEnumerable",$propertyIsEnumerable,!0),_wksExt.f=function(name){return wrap(_wks(name))}),_export(_export.G+_export.W+_export.F*!USE_NATIVE,{Symbol:$Symbol});for(var es6Symbols="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),j=0;es6Symbols.length>j;)_wks(es6Symbols[j++]);for(var wellKnownSymbols=_objectKeys(_wks.store),k=0;wellKnownSymbols.length>k;)_wksDefine(wellKnownSymbols[k++]);_export(_export.S+_export.F*!USE_NATIVE,"Symbol",{for:function(key){return _has(SymbolRegistry,key+="")?SymbolRegistry[key]:SymbolRegistry[key]=$Symbol(key)},keyFor:function(sym){if(!isSymbol(sym))throw TypeError(sym+" is not a symbol!");for(var key in SymbolRegistry)if(SymbolRegistry[key]===sym)return key},useSetter:function(){setter=!0},useSimple:function(){setter=!1}}),_export(_export.S+_export.F*!USE_NATIVE,"Object",{create:function(it,P){return void 0===P?_objectCreate(it):$defineProperties(_objectCreate(it),P)},defineProperty:$defineProperty,defineProperties:$defineProperties,getOwnPropertyDescriptor:$getOwnPropertyDescriptor,getOwnPropertyNames:$getOwnPropertyNames,getOwnPropertySymbols:$getOwnPropertySymbols});var FAILS_ON_PRIMITIVES=_fails((function(){_objectGops.f(1)}));_export(_export.S+_export.F*FAILS_ON_PRIMITIVES,"Object",{getOwnPropertySymbols:function(it){return _objectGops.f(_toObject(it))}}),$JSON&&_export(_export.S+_export.F*(!USE_NATIVE||_fails((function(){var S=$Symbol();return"[null]"!=_stringify([S])||"{}"!=_stringify({a:S})||"{}"!=_stringify(Object(S))}))),"JSON",{stringify:function(it){for(var replacer,$replacer,args=[it],i=1;arguments.length>i;)args.push(arguments[i++]);if($replacer=replacer=args[1],(_isObject(replacer)||void 0!==it)&&!isSymbol(it))return _isArray(replacer)||(replacer=function(key,value){if("function"==typeof $replacer&&(value=$replacer.call(this,key,value)),!isSymbol(value))return value}),args[1]=replacer,_stringify.apply($JSON,args)}}),$Symbol.prototype[TO_PRIMITIVE]||_hide($Symbol.prototype,TO_PRIMITIVE,$Symbol.prototype.valueOf),_setToStringTag($Symbol,"Symbol"),_setToStringTag(Math,"Math",!0),_setToStringTag(_global.JSON,"JSON",!0);var dP$2=_objectDp.f,FProto=Function.prototype,nameRE=/^\s*function ([^ (]*)/;"name"in FProto||_descriptors&&dP$2(FProto,"name",{configurable:!0,get:function(){try{return(""+this).match(nameRE)[1]}catch(e){return""}}});!function(KEY,exec){var fn=(_core.Object||{})[KEY]||Object[KEY],exp={};exp[KEY]=exec(fn),_export(_export.S+_export.F*_fails((function(){fn(1)})),"Object",exp)}("keys",(function(){return function(it){return _objectKeys(_toObject(it))}}));for(var ITERATOR$4=_wks("iterator"),TO_STRING_TAG=_wks("toStringTag"),ArrayValues=_iterators.Array,DOMIterables={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},collections=_objectKeys(DOMIterables),i$1=0;i$1<collections.length;i$1++){var key,NAME$1=collections[i$1],explicit=DOMIterables[NAME$1],Collection=_global[NAME$1],proto=Collection&&Collection.prototype;if(proto&&(proto[ITERATOR$4]||_hide(proto,ITERATOR$4,ArrayValues),proto[TO_STRING_TAG]||_hide(proto,TO_STRING_TAG,NAME$1),_iterators[NAME$1]=ArrayValues,explicit))for(key in es6_array_iterator)proto[key]||_redefine(proto,key,es6_array_iterator[key],!0)}var _stringAt=function(TO_STRING){return function(that,pos){var a,b,s=String(_defined(that)),i=_toInteger(pos),l=s.length;return i<0||i>=l?TO_STRING?"":void 0:(a=s.charCodeAt(i))<55296||a>56319||i+1===l||(b=s.charCodeAt(i+1))<56320||b>57343?TO_STRING?s.charAt(i):a:TO_STRING?s.slice(i,i+2):b-56320+(a-55296<<10)+65536}},$assign=Object.assign,_objectAssign=!$assign||_fails((function(){var A={},B={},S=Symbol(),K="abcdefghijklmnopqrst";return A[S]=7,K.split("").forEach((function(k){B[k]=k})),7!=$assign({},A)[S]||Object.keys($assign({},B)).join("")!=K}))?function(target,source){for(var T=_toObject(target),aLen=arguments.length,index=1,getSymbols=_objectGops.f,isEnum=_objectPie.f;aLen>index;)for(var key,S=_iobject(arguments[index++]),keys=getSymbols?_objectKeys(S).concat(getSymbols(S)):_objectKeys(S),length=keys.length,j=0;length>j;)key=keys[j++],_descriptors&&!isEnum.call(S,key)||(T[key]=S[key]);return T}:$assign;_export(_export.S+_export.F,"Object",{assign:_objectAssign});var _flags=function(){var that=_anObject(this),result="";return that.global&&(result+="g"),that.ignoreCase&&(result+="i"),that.multiline&&(result+="m"),that.unicode&&(result+="u"),that.sticky&&(result+="y"),result},test$1={};test$1[_wks("toStringTag")]="z",test$1+""!="[object z]"&&_redefine(Object.prototype,"toString",(function(){return"[object "+_classof(this)+"]"}),!0);var re1,re2,at=_stringAt(!0),_advanceStringIndex=function(S,index,unicode){return index+(unicode?at(S,index).length:1)},builtinExec=RegExp.prototype.exec,_regexpExecAbstract=function(R,S){var exec=R.exec;if("function"==typeof exec){var result=exec.call(R,S);if("object"!=typeof result)throw new TypeError("RegExp exec method returned something other than an Object or null");return result}if("RegExp"!==_classof(R))throw new TypeError("RegExp#exec called on incompatible receiver");return builtinExec.call(R,S)},nativeExec=RegExp.prototype.exec,nativeReplace=String.prototype.replace,patchedExec=nativeExec,UPDATES_LAST_INDEX_WRONG=(re1=/a/,re2=/b*/g,nativeExec.call(re1,"a"),nativeExec.call(re2,"a"),0!==re1.lastIndex||0!==re2.lastIndex),NPCG_INCLUDED=void 0!==/()??/.exec("")[1];(UPDATES_LAST_INDEX_WRONG||NPCG_INCLUDED)&&(patchedExec=function(str){var lastIndex,reCopy,match,i,re=this;return NPCG_INCLUDED&&(reCopy=new RegExp("^"+re.source+"$(?!\\s)",_flags.call(re))),UPDATES_LAST_INDEX_WRONG&&(lastIndex=re.lastIndex),match=nativeExec.call(re,str),UPDATES_LAST_INDEX_WRONG&&match&&(re.lastIndex=re.global?match.index+match[0].length:lastIndex),NPCG_INCLUDED&&match&&match.length>1&&nativeReplace.call(match[0],reCopy,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(match[i]=void 0)})),match});var _regexpExec=patchedExec;_export({target:"RegExp",proto:!0,forced:_regexpExec!==/./.exec},{exec:_regexpExec});var SPECIES$3=_wks("species"),REPLACE_SUPPORTS_NAMED_GROUPS=!_fails((function(){var re=/./;return re.exec=function(){var result=[];return result.groups={a:"7"},result},"7"!=="".replace(re,"$<a>")})),SPLIT_WORKS_WITH_OVERWRITTEN_EXEC=function(){var re=/(?:)/,originalExec=re.exec;re.exec=function(){return originalExec.apply(this,arguments)};var result="ab".split(re);return 2===result.length&&"a"===result[0]&&"b"===result[1]}(),_fixReWks=function(KEY,length,exec){var SYMBOL=_wks(KEY),DELEGATES_TO_SYMBOL=!_fails((function(){var O={};return O[SYMBOL]=function(){return 7},7!=""[KEY](O)})),DELEGATES_TO_EXEC=DELEGATES_TO_SYMBOL?!_fails((function(){var execCalled=!1,re=/a/;return re.exec=function(){return execCalled=!0,null},"split"===KEY&&(re.constructor={},re.constructor[SPECIES$3]=function(){return re}),re[SYMBOL](""),!execCalled})):void 0;if(!DELEGATES_TO_SYMBOL||!DELEGATES_TO_EXEC||"replace"===KEY&&!REPLACE_SUPPORTS_NAMED_GROUPS||"split"===KEY&&!SPLIT_WORKS_WITH_OVERWRITTEN_EXEC){var nativeRegExpMethod=/./[SYMBOL],fns=exec(_defined,SYMBOL,""[KEY],(function(nativeMethod,regexp,str,arg2,forceStringMethod){return regexp.exec===_regexpExec?DELEGATES_TO_SYMBOL&&!forceStringMethod?{done:!0,value:nativeRegExpMethod.call(regexp,str,arg2)}:{done:!0,value:nativeMethod.call(str,regexp,arg2)}:{done:!1}})),strfn=fns[0],rxfn=fns[1];_redefine(String.prototype,KEY,strfn),_hide(RegExp.prototype,SYMBOL,2==length?function(string,arg){return rxfn.call(string,this,arg)}:function(string){return rxfn.call(string,this)})}},max$1=Math.max,min$2=Math.min,floor$1=Math.floor,SUBSTITUTION_SYMBOLS=/\$([$&`']|\d\d?|<[^>]*>)/g,SUBSTITUTION_SYMBOLS_NO_NAMED=/\$([$&`']|\d\d?)/g;_fixReWks("replace",2,(function(defined,REPLACE,$replace,maybeCallNative){return[function(searchValue,replaceValue){var O=defined(this),fn=null==searchValue?void 0:searchValue[REPLACE];return void 0!==fn?fn.call(searchValue,O,replaceValue):$replace.call(String(O),searchValue,replaceValue)},function(regexp,replaceValue){var res=maybeCallNative($replace,regexp,this,replaceValue);if(res.done)return res.value;var rx=_anObject(regexp),S=String(this),functionalReplace="function"==typeof replaceValue;functionalReplace||(replaceValue=String(replaceValue));var global=rx.global;if(global){var fullUnicode=rx.unicode;rx.lastIndex=0}for(var results=[];;){var result=_regexpExecAbstract(rx,S);if(null===result)break;if(results.push(result),!global)break;""===String(result[0])&&(rx.lastIndex=_advanceStringIndex(S,_toLength(rx.lastIndex),fullUnicode))}for(var it,accumulatedResult="",nextSourcePosition=0,i=0;i<results.length;i++){result=results[i];for(var matched=String(result[0]),position=max$1(min$2(_toInteger(result.index),S.length),0),captures=[],j=1;j<result.length;j++)captures.push(void 0===(it=result[j])?it:String(it));var namedCaptures=result.groups;if(functionalReplace){var replacerArgs=[matched].concat(captures,position,S);void 0!==namedCaptures&&replacerArgs.push(namedCaptures);var replacement=String(replaceValue.apply(void 0,replacerArgs))}else replacement=getSubstitution(matched,S,position,captures,namedCaptures,replaceValue);position>=nextSourcePosition&&(accumulatedResult+=S.slice(nextSourcePosition,position)+replacement,nextSourcePosition=position+matched.length)}return accumulatedResult+S.slice(nextSourcePosition)}];function getSubstitution(matched,str,position,captures,namedCaptures,replacement){var tailPos=position+matched.length,m=captures.length,symbols=SUBSTITUTION_SYMBOLS_NO_NAMED;return void 0!==namedCaptures&&(namedCaptures=_toObject(namedCaptures),symbols=SUBSTITUTION_SYMBOLS),$replace.call(replacement,symbols,(function(match,ch){var capture;switch(ch.charAt(0)){case"$":return"$";case"&":return matched;case"`":return str.slice(0,position);case"'":return str.slice(tailPos);case"<":capture=namedCaptures[ch.slice(1,-1)];break;default:var n=+ch;if(0===n)return match;if(n>m){var f=floor$1(n/10);return 0===f?match:f<=m?void 0===captures[f-1]?ch.charAt(1):captures[f-1]+ch.charAt(1):match}capture=captures[n-1]}return void 0===capture?"":capture}))}}));var $find=_arrayMethods(6),KEY="findIndex",forced=!0;function rgb2hsv(r,g,b){null==g&&(g=r.g,b=r.b,r=r.r);var maxIndex=0,max=r;g>r&&(maxIndex=1,max=g),b>g&&b>r&&(maxIndex=2,max=b);var min=r;g<r&&(min=g),b<g&&b<r&&(min=b);var h=0,s=0;return max!==min&&(h=0===maxIndex?60/360*(g-b)/(max-min):1===maxIndex?60/360*(2+(b-r)/(max-min)):60/360*(4+(r-g)/(max-min)),s=0===max?0:(max-min)/max),[h,s,max]}function hsv2rgb(h,s,v){var hh=360*h%360/60,sextant=0|hh,ff=hh-sextant,p=v*(1-s),q=v*(1-s*ff),t=v*(1-s*(1-ff)),r=0,g=0,b=0;switch(sextant){case 0:r=v,g=t,b=p;break;case 1:r=q,g=v,b=p;break;case 2:r=p,g=v,b=t;break;case 3:r=p,g=q,b=v;break;case 4:r=t,g=p,b=v;break;case 5:r=v,g=p,b=q}return new Color(r,g,b)}KEY in[]&&Array(1)[KEY]((function(){forced=!1})),_export(_export.P+_export.F*forced,"Array",{findIndex:function(callbackfn){return $find(this,callbackfn,arguments.length>1?arguments[1]:void 0)}}),_addToUnscopables(KEY);var SLIDER_HEIGHT=16,DebugUIScalarSlider=function(){function DebugUIScalarSlider(_ref){var _this=this,minimum=_ref.minimum,maximum=_ref.maximum,step=_ref.step,current=_ref.current,onValueChanged=_ref.onValueChanged;_classCallCheck(this,DebugUIScalarSlider),this._minimum=minimum,this._maximum=maximum,this._step=step,this._onValueChanged=onValueChanged,this._element=document.createElement("input"),this._element.type="range",this._element.min=this._minimum,this._element.max=this._maximum,null!=this._step&&(this._element.step=this._step),this._element.value=null!=current?current:this._minimum,null!=onValueChanged&&(this._element.addEventListener("input",(function(e){onValueChanged(_this._element.value)})),onValueChanged(this._element.value)),Object.assign(this._element.style,{height:SLIDER_HEIGHT+"px"})}return _createClass(DebugUIScalarSlider,[{key:"destroy",value:function(){this._element=null,Object.setPrototypeOf(this,null)}},{key:"addValueChangedListener",value:function(listener){var _this2=this;this._element.addEventListener("input",(function(e){return listener(_this2._element.value)}))}},{key:"setValue",value:function(value){this._element.value=value}},{key:"element",get:function(){return this._element}},{key:"value",get:function(){return this._element.value}},{key:"displayedValue",get:function(){return""+this._element.value}},{key:"height",get:function(){return SLIDER_HEIGHT}}]),DebugUIScalarSlider}(),CHECKBOX_SIZE=16,DebugUICheckbox=function(){function DebugUICheckbox(_ref2){var _this3=this,current=_ref2.current,onValueChanged=_ref2.onValueChanged;_classCallCheck(this,DebugUICheckbox),this._onValueChanged=onValueChanged,this._element=document.createElement("div"),this._titleElement=document.createElement("input"),this._titleElement.type="checkbox",this._titleElement.checked=current||!1,Object.assign(this._titleElement.style,{width:CHECKBOX_SIZE+"px",height:CHECKBOX_SIZE+"px",margin:"0px"}),null!=onValueChanged&&(this._titleElement.addEventListener("click",(function(e){onValueChanged(_this3._titleElement.checked)})),onValueChanged(this._titleElement.checked))}return _createClass(DebugUICheckbox,[{key:"destroy",value:function(){this._element=null,this._titleElement=null,Object.setPrototypeOf(this,null)}},{key:"addValueChangedListener",value:function(listener){var _this4=this;this._titleElement.addEventListener("click",(function(e){return listener(_this4._titleElement.checked)}))}},{key:"element",get:function(){return this._element}},{key:"titleElement",get:function(){return this._titleElement}},{key:"value",get:function(){return this._titleElement.checked}},{key:"displayedValue",get:function(){return this._titleElement.checked?"true":"false"}},{key:"height",get:function(){return 0}},{key:"titleElementWidth",get:function(){return CHECKBOX_SIZE}}]),DebugUICheckbox}(),DROPDOWN_HEIGHT=24,DebugUIDropdown=function(){function DebugUIDropdown(_ref3){var _this5=this,values=_ref3.values,current=_ref3.current,onValueChanged=_ref3.onValueChanged;_classCallCheck(this,DebugUIDropdown),this._values=values,this._onValueChanged=onValueChanged,this._element=document.createElement("select");var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=values[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var value=_step.value,element=document.createElement("option");element.value=value,element.innerHTML=escapeHTML(value),element.selected=value===current?"selected":"unselected",this._element.appendChild(element)}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}null!=onValueChanged&&(this._element.addEventListener("change",(function(e){onValueChanged(_this5._element.value)})),onValueChanged(this._element.value)),Object.assign(this._element.style,{height:DROPDOWN_HEIGHT+"px"})}return _createClass(DebugUIDropdown,[{key:"destroy",value:function(){this._element=null,Object.setPrototypeOf(this,null)}},{key:"addValueChangedListener",value:function(listener){var _this6=this;this._element.addEventListener("change",(function(e){return listener(_this6._element.value)}))}},{key:"element",get:function(){return this._element}},{key:"value",get:function(){return this._element.value}},{key:"displayedValue",get:function(){return this._element.value}},{key:"height",get:function(){return DROPDOWN_HEIGHT}}]),DebugUIDropdown}(),DebugUIButton=function(){function DebugUIButton(_ref4){var label=_ref4.label,onClick=_ref4.onClick;_classCallCheck(this,DebugUIButton),this._onClick=onClick,this._element=document.createElement("button"),this._element.innerHTML=escapeHTML(label),null!=onClick&&this._element.addEventListener("click",(function(e){onClick()})),Object.assign(this._element.style,{height:DROPDOWN_HEIGHT+"px"})}return _createClass(DebugUIButton,[{key:"destroy",value:function(){this._element=null,Object.setPrototypeOf(this,null)}},{key:"addValueChangedListener",value:function(){}},{key:"addClickListener",value:function(listener){var _this7=this;this._element.addEventListener("click",(function(e){return listener(_this7._element.value)}))}},{key:"element",get:function(){return this._element}},{key:"value",get:function(){return""}},{key:"displayedValue",get:function(){return""}},{key:"height",get:function(){return 24}}]),DebugUIButton}(),COLOR_SWATCH_SIZE=12,COLOR_PICKER_INNER_SPACING=2,COLOR_PICKER_MAIN_SIZE=64,COLOR_PICKER_BOTTOM_SLIDER_SIZE=16,COLOR_PICKER_MODE_BUTTON_HEIGHT=24,COLOR_PICKER_MODE_BUTTON_WIDTH=48,DebugUIColorPicker=function(){function DebugUIColorPicker(_ref5){var _this8=this,current=_ref5.current,onValueChanged=_ref5.onValueChanged;_classCallCheck(this,DebugUIColorPicker),this._onValueChanged=onValueChanged,this._element=document.createElement("div"),this._titleElement=document.createElement("div"),this._color=current||new Color,this._listeners=[],Object.assign(this._element.style,{width:"100%",height:this.height+"px"}),Object.assign(this._titleElement.style,{width:COLOR_SWATCH_SIZE-2+"px",height:COLOR_SWATCH_SIZE-2+"px","border-radius":"2px"}),this._colorPickerMain=document.createElement("canvas"),this._colorPickerMain.height=COLOR_PICKER_MAIN_SIZE-2,Object.assign(this._colorPickerMain.style,{position:"absolute",left:"0px",right:"0px",top:"0px",height:COLOR_PICKER_MAIN_SIZE-2+"px"}),this._element.appendChild(this._colorPickerMain),this._colorPickerBottomSlider=document.createElement("canvas"),this._colorPickerBottomSlider.height=COLOR_PICKER_BOTTOM_SLIDER_SIZE-2,Object.assign(this._colorPickerBottomSlider.style,{position:"absolute",left:"0px",right:"0px",top:COLOR_PICKER_MAIN_SIZE+COLOR_PICKER_INNER_SPACING+"px",height:COLOR_PICKER_BOTTOM_SLIDER_SIZE-2+"px"}),this._element.appendChild(this._colorPickerBottomSlider),this._requestAnimationFrameHandle=null,this._requestAnimationFrameUpdate=this._requestAnimationFrameUpdate.bind(this),this._pickingMain=!1,this._pickingX=0,this._pickingY=0,this._colorPickerMain.addEventListener("pointerdown",(function(e){_this8._pickingMain=!0,_this8._updateMain(e.offsetX,e.offsetY),_this8._notify(),_this8._moveListener=function(e){var x=e.clientX-_this8._colorPickerMain.getBoundingClientRect().x,y=e.clientY-_this8._colorPickerMain.getBoundingClientRect().y;_this8._pickingX=Math.min(Math.max(x,0),_this8._colorPickerMain.clientWidth),_this8._pickingY=Math.min(Math.max(y,0),_this8._colorPickerMain.clientHeight),_this8._requestAnimationFrame()},document.body.addEventListener("pointermove",_this8._moveListener),_this8._upListener=function(e){_this8._pickingMain=!1,_this8.redraw(),document.body.removeEventListener("pointermove",_this8._moveListener),document.body.removeEventListener("pointerup",_this8._upListener),delete _this8._moveListener,delete _this8._upListener},document.body.addEventListener("pointerup",_this8._upListener)})),this._pickingBottomSlider=!1,this._colorPickerBottomSlider.addEventListener("pointerdown",(function(e){_this8._pickingBottomSlider=!0,_this8._updateBottomSlider(e.offsetX),_this8._notify(),_this8._bottomMoveListener=function(e){var x=e.clientX-_this8._colorPickerBottomSlider.getBoundingClientRect().x;_this8._pickingX=Math.min(Math.max(x,0),_this8._colorPickerMain.clientWidth),_this8._requestAnimationFrame()},document.body.addEventListener("pointermove",_this8._bottomMoveListener),_this8._bottomUpListener=function(e){_this8._pickingBottomSlider=!1,_this8.redraw(),document.body.removeEventListener("pointermove",_this8._bottomMoveListener),document.body.removeEventListener("pointerup",_this8._bottomUpListener),delete _this8._bottomMoveListener,delete _this8._bottomUpListener},document.body.addEventListener("pointerup",_this8._bottomUpListener)}));var offset=0,createModeButton=function(identifier,label){var button=document.createElement("button");return Object.assign(button.style,{position:"absolute",top:_this8.height-COLOR_PICKER_MODE_BUTTON_HEIGHT+"px",left:offset+"px",height:COLOR_PICKER_MODE_BUTTON_HEIGHT+"px",width:COLOR_PICKER_MODE_BUTTON_WIDTH+"px",color:"grey"}),button.innerHTML=label,offset+=COLOR_PICKER_MODE_BUTTON_WIDTH+COLOR_PICKER_INNER_SPACING,button.addEventListener("click",(function(){_this8._modeButtons[_this8._mode].style.color="grey",_this8._mode=identifier,button.style.color="black",_this8.redraw()})),_this8._element.appendChild(button),button};this._modeButtons={},this._modeButtons.hsv=createModeButton("hsv","HSV"),this._modeButtons.svh=createModeButton("svh","SVH"),this._modeButtons.rgb=createModeButton("rgb","RGB"),this._mode="hsv",this._modeButtons.hsv.style.color="black",this._requestAnimationFrame(),this._notify()}return _createClass(DebugUIColorPicker,[{key:"destroy",value:function(){document.body.removeEventListener("pointermove",this._moveListener),document.body.removeEventListener("pointerup",this._upListener),document.body.removeEventListener("pointermove",this._bottomMoveListener),document.body.removeEventListener("pointerup",this._bottomUpListener),this._element=null,this._titleElement=null,this._destroyed=!0,Object.setPrototypeOf(this,null)}},{key:"addValueChangedListener",value:function(listener){this._listeners.push(listener)}},{key:"setValue",value:function(color){this._color.copy(color),this.redraw(),this._notify()}},{key:"_requestAnimationFrame",value:function(){null!=this._requestAnimationFrameHandle||this._destroyed||(this._requestAnimationFrameHandle=requestAnimationFrame(this._requestAnimationFrameUpdate))}},{key:"_requestAnimationFrameUpdate",value:function(){this._pickingMain&&(this._updateMain(this._pickingX,this._pickingY),this._notify()),this._pickingBottomSlider&&(this._updateBottomSlider(this._pickingX),this._notify()),this._requestAnimationFrameHandle=null}},{key:"_notify",value:function(){null!=this._onValueChanged&&this._onValueChanged(this._color);var _iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=void 0;try{for(var _step2,_iterator2=this._listeners[Symbol.iterator]();!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=!0){(0,_step2.value)(this._color)}}catch(err){_didIteratorError2=!0,_iteratorError2=err}finally{try{_iteratorNormalCompletion2||null==_iterator2.return||_iterator2.return()}finally{if(_didIteratorError2)throw _iteratorError2}}}},{key:"_updateMain",value:function(x,y){var width=this._colorPickerMain.clientWidth,height=COLOR_PICKER_MAIN_SIZE;this._pickingX=Math.min(Math.max(x,1),width-1)-1,this._pickingY=Math.min(Math.max(y,1),height-1)-1;var xt=this._pickingX/(width-1),yt=this._pickingY/(height-1);if("hsv"===this._mode){var v=_slicedToArray(rgb2hsv(this._color),3)[2];this._color.set(hsv2rgb(xt,yt,v))}else if("svh"===this._mode){var h=_slicedToArray(rgb2hsv(this._color),2)[0];this._color.set(hsv2rgb(h,xt,1-yt))}else this._color.r=xt,this._color.g=yt;this.redraw()}},{key:"_updateBottomSlider",value:function(x){var width=this._colorPickerBottomSlider.clientWidth;this._pickingX=Math.min(Math.max(x,1),width-1)-1;var xt=this._pickingX/(width-1);if("hsv"===this._mode){var _rgb2hsv6=_slicedToArray(rgb2hsv(this._color),2),h=_rgb2hsv6[0],s=_rgb2hsv6[1];this._color.set(hsv2rgb(h,s,xt))}else if("svh"===this._mode){var _rgb2hsv8=_slicedToArray(rgb2hsv(this._color),3),_s=_rgb2hsv8[1],v=_rgb2hsv8[2];this._color.set(hsv2rgb(xt,_s,v))}else this._color.b=xt;this.redraw()}},{key:"redraw",value:function(){var width=this._element.clientWidth-2,mainHeight=COLOR_PICKER_MAIN_SIZE-2,bottomSliderHeight=COLOR_PICKER_BOTTOM_SLIDER_SIZE-2;this._colorPickerMain.width!==width&&(this._colorPickerMain.width=width);for(var _rgb2hsv10=_slicedToArray(rgb2hsv(this._color),3),currentH=_rgb2hsv10[0],currentS=_rgb2hsv10[1],currentV=_rgb2hsv10[2],mainContext=this._colorPickerMain.getContext("2d"),yi=0;yi<mainHeight;++yi)for(var xi=0;xi<width;++xi){if("hsv"===this._mode){var _hsv2rgb=hsv2rgb(xi/(width-1),yi/(mainHeight-1),currentV),_r=_hsv2rgb.r,_g=_hsv2rgb.g,_b=_hsv2rgb.b;mainContext.fillStyle="rgb(".concat(255*_r,",").concat(255*_g,",").concat(255*_b,")")}else if("svh"===this._mode){var _hsv2rgb2=hsv2rgb(currentH,xi/(width-1),1-yi/(mainHeight-1)),_r2=_hsv2rgb2.r,_g2=_hsv2rgb2.g,_b2=_hsv2rgb2.b;mainContext.fillStyle="rgb(".concat(255*_r2,",").concat(255*_g2,",").concat(255*_b2,")")}else{var _r3=xi/width*255,_g3=yi/mainHeight*255,_b3=255*this._color.b;mainContext.fillStyle="rgb(".concat(_r3,",").concat(_g3,",").concat(_b3,")")}mainContext.fillRect(xi,yi,1,1)}this._pickingMain&&(mainContext.fillStyle="rgba(0,0,0,0.5)",mainContext.fillRect(0,this._pickingY,width,1),mainContext.fillRect(this._pickingX,0,1,mainHeight)),this._colorPickerBottomSlider.width!==width&&(this._colorPickerBottomSlider.width=width);for(var bottomSliderContext=this._colorPickerBottomSlider.getContext("2d"),_xi=0;_xi<width;++_xi){if("hsv"===this._mode){var _hsv2rgb3=hsv2rgb(currentH,currentS,_xi/(width-1)),_r4=_hsv2rgb3.r,_g4=_hsv2rgb3.g,_b4=_hsv2rgb3.b;bottomSliderContext.fillStyle="rgb(".concat(255*_r4,",").concat(255*_g4,",").concat(255*_b4,")")}else if("svh"===this._mode){var _hsv2rgb4=hsv2rgb(_xi/(width-1),currentS,currentV),_r5=_hsv2rgb4.r,_g5=_hsv2rgb4.g,_b5=_hsv2rgb4.b;bottomSliderContext.fillStyle="rgb(".concat(255*_r5,",").concat(255*_g5,",").concat(255*_b5,")")}else{var _r6=255*this._color.r,_g6=255*this._color.g,_b6=_xi/(width-2)*255;bottomSliderContext.fillStyle="rgb(".concat(_r6,",").concat(_g6,",").concat(_b6,")")}bottomSliderContext.fillRect(_xi,0,1,bottomSliderHeight)}this._pickingBottomSlider&&(bottomSliderContext.fillStyle="rgba(0,0,0,0.5)",bottomSliderContext.fillRect(this._pickingX,0,1,bottomSliderHeight));var r=255*this._color.r,g=255*this._color.g,b=255*this._color.b,border="1px solid rgb(".concat(.9*r,",").concat(.9*g,",").concat(.9*b,")");Object.assign(this._colorPickerMain.style,{border:border}),Object.assign(this._colorPickerBottomSlider.style,{border:border}),Object.assign(this._titleElement.style,{"background-color":"rgb(".concat(r,",").concat(g,",").concat(b,")"),border:border})}},{key:"element",get:function(){return this._element}},{key:"titleElement",get:function(){return this._titleElement}},{key:"value",get:function(){return this._color}},{key:"displayedValue",get:function(){return"#"+this._color.getHexString().toUpperCase()}},{key:"height",get:function(){return COLOR_PICKER_MAIN_SIZE+COLOR_PICKER_INNER_SPACING+COLOR_PICKER_BOTTOM_SLIDER_SIZE+COLOR_PICKER_INNER_SPACING+COLOR_PICKER_MODE_BUTTON_HEIGHT}},{key:"titleElementWidth",get:function(){return COLOR_SWATCH_SIZE}}]),DebugUIColorPicker}(),CONTROL_TITLE_HEIGHT=16,CONTROL_TITLE_FONT_SIZE=12,CONTROL_TITLE_ELEMENT_SPACING=4,CONTROL_TEXT_FONT_SIZE=10,CONTROL_SPACING=12,DebugUIPanel=function(){function DebugUIPanel(_ref6){var name=_ref6.name;_classCallCheck(this,DebugUIPanel),this._name=name,this._element=document.createElement("div"),this._entries=[],this._height=CONTROL_SPACING}return _createClass(DebugUIPanel,[{key:"destroy",value:function(){var _iteratorNormalCompletion3=!0,_didIteratorError3=!1,_iteratorError3=void 0;try{for(var _step3,_iterator3=this._entries[Symbol.iterator]();!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=!0){_step3.value.destroy()}}catch(err){_didIteratorError3=!0,_iteratorError3=err}finally{try{_iteratorNormalCompletion3||null==_iterator3.return||_iterator3.return()}finally{if(_didIteratorError3)throw _iteratorError3}}this._entries=null,this._element=null,Object.setPrototypeOf(this,null)}},{key:"addControl",value:function(name,description,control){if(-1===this._entries.findIndex((function(entry){return entry.name===name}))){var child=new DebugUIEntry({name:name,description:description,control:control});this._entries.push(child),this._element.appendChild(child.element),null!=control.redraw&&control.redraw()}}},{key:"removeControl",value:function(name){var index=this._entries.findIndex((function(entry){return entry.name===name}));if(-1!==index){var entry=_slicedToArray(this._entries.splice(index,1),1)[0];this._element.removeChild(entry.element),entry.destroy()}}},{key:"_updateLayout",value:function(){this._height=0;var _iteratorNormalCompletion4=!0,_didIteratorError4=!1,_iteratorError4=void 0;try{for(var _step4,_iterator4=this._entries[Symbol.iterator]();!(_iteratorNormalCompletion4=(_step4=_iterator4.next()).done);_iteratorNormalCompletion4=!0){var child=_step4.value;child.element.style.top=this._height+"px",this._height+=child.height+CONTROL_SPACING}}catch(err){_didIteratorError4=!0,_iteratorError4=err}finally{try{_iteratorNormalCompletion4||null==_iterator4.return||_iterator4.return()}finally{if(_didIteratorError4)throw _iteratorError4}}Object.assign(this._element.style,{height:this._height+"px"})}},{key:"element",get:function(){return this._element}},{key:"height",get:function(){return this._height}}]),DebugUIPanel}(),DebugUIEntry=function(){function DebugUIEntry(_ref7){var _this9=this,name=_ref7.name,description=_ref7.description,control=_ref7.control;_classCallCheck(this,DebugUIEntry),this._name=name,this._description=description,this._control=control,this._element=document.createElement("div"),this._element.title=description,Object.assign(this._element.style,{position:"absolute",left:"0px",right:"0px"}),this._element.appendChild(this._control.element),Object.assign(this._control.element.style,{position:"absolute",left:"0px",width:"100%",top:CONTROL_TITLE_HEIGHT+"px","font-size":CONTROL_TEXT_FONT_SIZE+"px"});var titleElementWidth=0;null!=this._control.titleElement&&(this._element.appendChild(this._control.titleElement),Object.assign(this._control.titleElement.style,{position:"absolute",left:"0px",top:"0px","font-size":CONTROL_TEXT_FONT_SIZE+"px"}),titleElementWidth=this._control.titleElementWidth+CONTROL_TITLE_ELEMENT_SPACING),this._control.addValueChangedListener((function(value){_this9._displayedValueElement.innerHTML=escapeHTML(_this9._control.displayedValue)})),this._nameElement=document.createElement("span"),this._nameElement.innerHTML=name,Object.assign(this._nameElement.style,{position:"absolute",left:titleElementWidth+"px",right:"0px",height:CONTROL_TITLE_HEIGHT+"px",color:"#666666","font-size":CONTROL_TITLE_FONT_SIZE+"px","text-align":"left","vertical-align":"middle"}),this._element.appendChild(this._nameElement),this._displayedValueElement=document.createElement("span"),this._displayedValueElement.innerHTML=escapeHTML(this._control.displayedValue),Object.assign(this._displayedValueElement.style,{position:"absolute",left:titleElementWidth+"px",right:"0px",height:CONTROL_TITLE_HEIGHT+"px","font-size":CONTROL_TITLE_FONT_SIZE+"px","text-align":"right","vertical-align":"middle"}),this._element.appendChild(this._displayedValueElement)}return _createClass(DebugUIEntry,[{key:"destroy",value:function(){this._element=null,this._nameElement=null,this._displayedValueElement=null,this._control.destroy(),Object.setPrototypeOf(this,null)}},{key:"name",get:function(){return this._name}},{key:"element",get:function(){return this._element}},{key:"value",get:function(){return this._control.value}},{key:"height",get:function(){return this._control.height+CONTROL_TITLE_HEIGHT}}]),DebugUIEntry}();function escapeHTML(value){return value.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function PubSub(){}Object.assign(PubSub.prototype,{publish:function(eventName,data){this.subscribers&&this.subscribers[eventName]&&this.subscribers[eventName].forEach((function(fn){"function"==typeof fn&&fn(data)}))},on:function(eventName,fn){this.subscribers||(this.subscribers={}),this.subscribers[eventName]=this.subscribers[eventName]||[],this.subscribers[eventName].push(fn)},off:function(eventName,fn){if(this.subscribers&&this.subscribers[eventName]){var itemIdx=this.subscribers[eventName].indexOf(fn);-1!==itemIdx&&(this.subscribers[eventName][itemIdx]=void 0,this.subscribers[eventName].splice(itemIdx,1))}},destroy:function(){this.subscribers={}}});export{_export as $,_objectCreate as A,_redefineAll as B,_iterStep as C,_setSpecies as D,_objectGopd as E,_global as F,_setToStringTag as G,_redefine as H,_has as I,_objectGopn as J,_toPrimitive as K,_flags as L,getCjsExportFromNamespace as M,_arrayMethods as N,_typeof as O,DebugUICheckbox as P,_objectSpread2 as Q,_createClass as R,_classCallCheck as S,_defineProperty as T,PubSub as U,_fixReWks as V,_speciesConstructor as W,_regexpExecAbstract as X,_advanceStringIndex as Y,_regexpExec as Z,_toConsumableArray as _,_toInteger as a,_arrayFill as a0,_inherits as a1,_possibleConstructorReturn as a2,_getPrototypeOf as a3,_assertThisInitialized as a4,commonjsGlobal as a5,_domCreate as a6,_html as a7,_aFunction as a8,_classof as a9,_core as aa,_get as ab,_slicedToArray as ac,DebugUIPanel as ad,DebugUIColorPicker as ae,DebugUIScalarSlider as af,DebugUIButton as ag,DebugUIDropdown as ah,_addToUnscopables as b,_arrayIncludes as c,_defined as d,_wks as e,_cof as f,_objectKeys as g,_fails as h,_isObject as i,_anObject as j,_objectDp as k,_propertyDesc as l,_iterDetect as m,_toObject as n,core_getIteratorMethod as o,_objectPie as p,_ctx as q,_descriptors as r,_isArrayIter as s,_toIobject as t,_toLength as u,_iterDefine as v,_stringAt as w,createCommonjsModule as x,_meta as y,_anInstance as z};
